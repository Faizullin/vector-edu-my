import{r as i,j as E,k as N,$ as k,Y as W,o as D,b as w,e as b}from"./main-CUfsI3AY.js";import{b as F,T as S,g as x,c as I,E as M,d as U}from"./TransitionWrapper-QYPjZsTZ.js";const G=typeof window<"u"&&window.navigator&&window.navigator.product==="ReactNative",$=typeof document<"u",p=$||G?i.useLayoutEffect:i.useEffect,B={[U]:"show",[M]:"show"},_=i.forwardRef(({className:e,children:n,transitionClasses:s={},onEnter:t,...o},r)=>{const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},l=i.useCallback((u,a)=>{F(u),t==null||t(u,a)},[t]);return E.jsx(S,{ref:r,addEndListener:I,...c,onEnter:l,childRef:x(n),children:(u,a)=>i.cloneElement(n,{...a,className:N("fade",e,n.props.className,B[u],s[u])})})});_.displayName="Fade";function z(e){const n=i.useRef(e);return n.current=e,n}function ee(e){const n=z(e);i.useEffect(()=>()=>n.current(),[])}const g=(e,n)=>W?e==null?(n||D()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function ne(e,n){const s=k(),[t,o]=i.useState(()=>g(e,s==null?void 0:s.document));if(!t){const r=g(e);r&&o(r)}return i.useEffect(()=>{},[n,t]),i.useEffect(()=>{const r=g(e);r!==t&&o(r)},[e,t]),t}function A({children:e,in:n,onExited:s,mountOnEnter:t,unmountOnExit:o}){const r=i.useRef(null),c=i.useRef(n),l=w(s);i.useEffect(()=>{n?c.current=!0:l(r.current)},[n,l]);const u=b(r,x(e)),a=i.cloneElement(e,{ref:u});return n?a:o||!c.current&&t?null:a}const V=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function Y(e,n){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;s[t]=e[t]}return s}function q(e){let{onEnter:n,onEntering:s,onEntered:t,onExit:o,onExiting:r,onExited:c,addEndListener:l,children:u}=e,a=Y(e,V);const d=i.useRef(null),R=b(d,x(u)),f=m=>h=>{m&&d.current&&m(d.current,h)},v=i.useCallback(f(n),[n]),O=i.useCallback(f(s),[s]),j=i.useCallback(f(t),[t]),C=i.useCallback(f(o),[o]),T=i.useCallback(f(r),[r]),y=i.useCallback(f(c),[c]),L=i.useCallback(f(l),[l]);return Object.assign({},a,{nodeRef:d},n&&{onEnter:v},s&&{onEntering:O},t&&{onEntered:j},o&&{onExit:C},r&&{onExiting:T},c&&{onExited:y},l&&{addEndListener:L},{children:typeof u=="function"?(m,h)=>u(m,Object.assign({},h,{ref:R})):i.cloneElement(u,{ref:R})})}const H=["component"];function J(e,n){if(e==null)return{};var s={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(n.indexOf(t)>=0)continue;s[t]=e[t]}return s}const K=i.forwardRef((e,n)=>{let{component:s}=e,t=J(e,H);const o=q(t);return E.jsx(s,Object.assign({ref:n},o))});function P({in:e,onTransition:n}){const s=i.useRef(null),t=i.useRef(!0),o=w(n);return p(()=>{if(!s.current)return;let r=!1;return o({in:e,element:s.current,initial:t.current,isStale:()=>r}),()=>{r=!0}},[e,o]),p(()=>(t.current=!1,()=>{t.current=!0}),[]),s}function Q({children:e,in:n,onExited:s,onEntered:t,transition:o}){const[r,c]=i.useState(!n);n&&r&&c(!1);const l=P({in:!!n,onTransition:a=>{const d=()=>{a.isStale()||(a.in?t==null||t(a.element,a.initial):(c(!0),s==null||s(a.element)))};Promise.resolve(o(a)).then(d,R=>{throw a.in||c(!0),R})}}),u=b(l,x(e));return r&&!n?null:i.cloneElement(e,{ref:u})}function te(e,n,s){return e?E.jsx(K,Object.assign({},s,{component:e})):n?E.jsx(Q,Object.assign({},s,{transition:n})):E.jsx(A,Object.assign({},s))}function se(e,n){return e.classList?!!n&&e.classList.contains(n):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+n+" ")!==-1}export{_ as F,ne as a,se as h,te as r,ee as u};
