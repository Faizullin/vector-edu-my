import{j as n,E as d,C as l,F as f}from"./index-DQh6-uld.js";import{c as u}from"./index-DxnMLqFP.js";function g({className:e,type:r,...i}){return n.jsx("input",{type:r,"data-slot":"input",className:u("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}function s(e,r){f.error(r.message,{...r.data,duration:5e3})}function p(e){const r=e.body;if(e.message==="Bad Request"&&r.type==="validation_error")return e.body;if(e.message==="Internal Server Error"&&r.type==="server_error"||r.error)return r}function b(e,r={displayType:"toast"}){const{form:i}=r,a=r.displayType||"toast";if(e instanceof d){const t=p(e);return l.error("handleServerError",e,e.body),(t==null?void 0:t.type)==="validation_error"?(a==="toast"&&s("error",{message:"Validation Error",data:{description:e.message}}),i&&t.errors.forEach(o=>{i.setError(o.attr,{type:"manual",message:o.detail})})):(t==null?void 0:t.type)==="server_error"?a==="toast"&&s("error",{message:"Server Error",data:{description:t.errors[0].detail}}):(t==null?void 0:t.type)==="simple_error"&&a==="toast"&&s("error",{message:t.error}),t}}export{g as I,b as h,s};
