import{A as n}from"./use-auth-js2yB0WI.js";import{g as f,t as d}from"./index-BmiyAELg.js";function i(r,t){d.error(t.message,{...t.data,duration:5e3})}function p(r){const t=r.body;if(r.message==="Bad Request"&&t.type==="validation_error")return r.body;if(t.error)return t}function u(r,t={displayType:"toast"}){const{form:a}=t,o=t.displayType||"toast";if(r instanceof n){const e=p(r);return f.error("handleServerError",r,r.body),(e==null?void 0:e.type)==="validation_error"?(o==="toast"&&i("error",{message:"Validation Error",data:{description:r.message}}),a&&e.errors.forEach(s=>{a.setError(s.attr,{type:"manual",message:s.detail})})):(e==null?void 0:e.type)==="simple_error"&&o==="toast"&&i("error",{message:e.error}),e}}export{u as h,i as s};
