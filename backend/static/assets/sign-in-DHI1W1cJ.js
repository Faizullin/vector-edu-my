import{j as e,r as l,z as c}from"./index-DQh6-uld.js";import{C as w,a as v,b,c as N,d as C}from"./card-wB73EMsO.js";import{c as p,B as f}from"./index-DxnMLqFP.js";import{c as j}from"./createReactComponent-CHdwuXdO.js";import{u as S,F as k,a as d,b as m,c as u,d as x,e as h,s as F}from"./zod-DllzZRz3.js";import{I,h as E}from"./handle-server-error-BxJ_sWNo.js";import{u as M}from"./use-auth-D3uw0lD2.js";import"./useMutation-DppR1fuU.js";/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var P=j("outline","eye-off","IconEyeOff",[["path",{d:"M10.585 10.587a2 2 0 0 0 2.829 2.828",key:"svg-0"}],["path",{d:"M16.681 16.673a8.717 8.717 0 0 1 -4.681 1.327c-3.6 0 -6.6 -2 -9 -6c1.272 -2.12 2.712 -3.678 4.32 -4.674m2.86 -1.146a9.055 9.055 0 0 1 1.82 -.18c3.6 0 6.6 2 9 6c-.666 1.11 -1.379 2.067 -2.138 2.87",key:"svg-1"}],["path",{d:"M3 3l18 18",key:"svg-2"}]]);/**
 * @license @tabler/icons-react v3.31.0 - MIT
 *
 * This source code is licensed under the MIT license.
 * See the LICENSE file in the root directory of this source tree.
 */var L=j("outline","eye","IconEye",[["path",{d:"M10 12a2 2 0 1 0 4 0a2 2 0 0 0 -4 0",key:"svg-0"}],["path",{d:"M21 12c-2.4 4 -5.4 6 -9 6c-3.6 0 -6.6 -2 -9 -6c2.4 -4 5.4 -6 9 -6c3.6 0 6.6 2 9 6",key:"svg-1"}]]);function A({children:t}){return e.jsx("div",{className:"bg-primary-foreground container grid h-svh max-w-none items-center justify-center",children:e.jsxs("div",{className:"mx-auto flex w-full flex-col justify-center space-y-2 py-8 sm:w-[480px] sm:p-8",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"mr-2 h-6 w-6",children:e.jsx("path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3"})}),e.jsx("h1",{className:"text-xl font-medium",children:"Shadcn Admin"})]}),t]})})}const g=l.forwardRef(({className:t,disabled:a,...o},n)=>{const[s,i]=l.useState(!1);return e.jsxs("div",{className:p("relative rounded-md",t),children:[e.jsx("input",{type:s?"text":"password",className:"border-input placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border bg-transparent px-3 py-1 text-sm shadow-xs transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-hidden disabled:cursor-not-allowed disabled:opacity-50",ref:n,disabled:a,...o}),e.jsx(f,{type:"button",size:"icon",variant:"ghost",disabled:a,className:"text-muted-foreground absolute top-1/2 right-1 h-6 w-6 -translate-y-1/2 rounded-md",onClick:()=>i(r=>!r),children:s?e.jsx(L,{size:18}):e.jsx(P,{size:18})})]})});g.displayName="PasswordInput";const z=c.object({username:c.string().min(1,{message:"Please enter your username"}),password:c.string().min(1,{message:"Please enter your password"}).min(7,{message:"Password must be at least 7 characters long"})});function B({className:t,...a}){const{loginMutation:o,resetError:n}=M(),s=S({resolver:F(z),defaultValues:{username:"",password:""},mode:"onBlur",criteriaMode:"all"}),i=async r=>{n();try{await o.mutateAsync(r)}catch(y){E(y,{form:s})}};return e.jsx(k,{...s,children:e.jsxs("form",{onSubmit:s.handleSubmit(i),className:p("grid gap-3",t),...a,children:[e.jsx(d,{control:s.control,name:"username",render:({field:r})=>e.jsxs(m,{children:[e.jsx(u,{children:"Username"}),e.jsx(x,{children:e.jsx(I,{placeholder:"admin",...r})}),e.jsx(h,{})]})}),e.jsx(d,{control:s.control,name:"password",render:({field:r})=>e.jsxs(m,{className:"relative",children:[e.jsx(u,{children:"Password"}),e.jsx(x,{children:e.jsx(g,{placeholder:"********",...r})}),e.jsx(h,{})]})}),s.formState.errors.errors&&e.jsx("p",{className:"text-sm font-medium text-destructive",children:s.formState.errors.errors.message}),e.jsx(f,{className:"mt-2",disabled:o.isPending,children:"Login"})]})})}function R(){return e.jsx(A,{children:e.jsxs(w,{className:"gap-4",children:[e.jsxs(v,{children:[e.jsx(b,{className:"text-lg tracking-tight",children:"Login"}),e.jsxs(N,{children:["Enter your email and password below to ",e.jsx("br",{}),"log into your account"]})]}),e.jsx(C,{children:e.jsx(B,{})})]})})}const G=R;export{G as component};
